From 5d1992c258699b9122deaa7ad6bb7fa7242e5e55 Mon Sep 17 00:00:00 2001
From: Victor Bo <bvoid@yandex.ru>
Date: Wed, 30 Sep 2020 01:18:21 -0400
Subject: [PATCH 17/57] Revert "FOD: Use removeViewImmediate to remove views"

This reverts commit e6e24f7d6512002a4eabeb9e275ede7019af618e.
---
 .../src/com/android/systemui/biometrics/FODAnimation.java       | 2 +-
 .../src/com/android/systemui/biometrics/FODCircleView.java      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/packages/SystemUI/src/com/android/systemui/biometrics/FODAnimation.java b/packages/SystemUI/src/com/android/systemui/biometrics/FODAnimation.java
index abbf66d2a69..d687ca0df21 100644
--- a/packages/SystemUI/src/com/android/systemui/biometrics/FODAnimation.java
+++ b/packages/SystemUI/src/com/android/systemui/biometrics/FODAnimation.java
@@ -109,7 +109,7 @@ public class FODAnimation extends ImageView {
                 recognizingAnim.selectDrawable(0);
             }
             if (this.getWindowToken() != null) {
-                mWindowManager.removeViewImmediate(this);
+                mWindowManager.removeView(this);
             }
         }
     }
diff --git a/packages/SystemUI/src/com/android/systemui/biometrics/FODCircleView.java b/packages/SystemUI/src/com/android/systemui/biometrics/FODCircleView.java
index 062797c4018..274473f05aa 100644
--- a/packages/SystemUI/src/com/android/systemui/biometrics/FODCircleView.java
+++ b/packages/SystemUI/src/com/android/systemui/biometrics/FODCircleView.java
@@ -702,7 +702,7 @@ public class FODCircleView extends ImageView implements ConfigurationListener, T
             mPressedParams.dimAmount = 0.0f;
             if (mPressedViewDisplayed) {
                 mPressedViewDisplayed = false;
-                mWindowManager.removeViewImmediate(mPressedView);
+                mWindowManager.removeView(mPressedView);
             }
         }
     }
-- 
2.17.1

